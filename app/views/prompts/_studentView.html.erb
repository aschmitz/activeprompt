<script type="text/javascript">
  var myResponse = responses.push();

  $(window).unload(function() {
    myResponse.remove();
  });

  $(function(){
    $("#prompt_image_container").append("<img id=\"handle\" style=\"z-index: 1; top: 0px; left: 0px; position: absolute\" src=\"/assets/red_dot.png\"/>");
  });

  $(function(){
    var handle = $('#handle'),
        promptImage = $('#prompt_image'),
        halfHandleW = 6.5,
        halfHandleH = 6.5;
    
    handle.draggable({
      containment: "#prompt_image_container",
      
      start: function(){},
      
      drag: function(event, ui) {
        myResponse.set({
          left: (ui.position.left + halfHandleW) / promptImage.width(),
          top: (ui.position.top + halfHandleH) / promptImage.height()
        });
      },
      
      stop: function(){}
    });
  });
</script>